<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.restaurant.user.question.dao.QuestionDAO">

	<!-- 1:1 문의 등록 -->
	<insert id="questionInsert" parameterType="question">
		<selectKey keyProperty="question_no" resultType="int" order="BEFORE">
			select question_seq.nextval from dual
		</selectKey>
		insert into question(
		question_no,
		member_no,
		question_type,
		question_title,
		question_date,
		question_text,
		<if test="question_file != null and question_file != ''">
		question_file,
		</if>
		question_process
		)
		values(
		#{question_no},
		#{member_no},
		#{question_type, jdbcType=VARCHAR},
		#{question_title},
		sysdate,
		#{question_text},
		<if test="question_file != null and question_file != ''">
		#{question_file},
		</if>
		'대기중'
		)

	</insert>
	
	<select id="userIdSelect" parameterType="String" resultType="login">
		select id, password, name from member where id = #{id}
	</select>

</mapper>